<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">
<head>
<meta charset="ISO-8859-1">
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
	rel="stylesheet">
<link rel="stylesheet" th:href="@{/css/monthlywisepayroll.css}">	
<title>PAYROLL MONTHLY WISE</title>
</head>
<body>
	<div th:replace="fragments/navbar :: navbar"></div>
	<div class="container mt-4">
		<form class="row g-3">
			<div class="col-md-4">
				<label class="form-label">Select Month</label> <input type="month"
					class="form-control" name="month" th:value="${param.month}">
			</div>
			<div class="d-grid">
				<button type="submit" id="submitBtn" class="btn btn-primary btn-sm rounded-pill">Submit</button>

			</div>
			<a th:if="${param.month != null && monthlywisepayroll != null}"
				th:href="@{/downloadExcel(month=${param.month})}"
				class="btn btn-success mt-1 btn-sm" id="downloadExcelBtn"> Download Excel </a>
				
				<a th:if="${param.month != null && monthlywisepayroll != null}"
				th:href="@{/downloadPdf(month=${param.month})}"
				class="btn btn-success mt-1 btn-sm" id="downloadPDFBtn"> Download PDF </a>
                          
		</form>

		<table class="table table-striped">
			<thead>
				<tr>
					<th scope="col">ID</th>
					<th scope="col">Employee Code</th>
					<th scope="col">Employee Name</th>
					<th scope="col">Payroll Month</th>
					<th scope="col">Basic Pay</th>
					<th scope="col">HRA</th>
					<th scope="col">Allowance</th>
					<th scope="col">Deduction</th>
					<th scope="col">Tax</th>
					<th scope="col">Over Time</th>
					<th scope="col">Over Amount</th>
					<th scope="col">Bonus Amount</th>
					<th scope="col">Gross Pay</th>
					<th scope="col">Net Pay</th>
					<th scope="col">Status</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="all:${monthlywisepayroll}">
					<th th:text="${all.id}"></th>
					<th th:text="${all.empCode}"></th>
					<th th:text="${all.name}"></th>
					<th th:text="${all.payrollMonth}"></th>
					<th th:text="${all.basicPay}"></th>
					<th th:text="${all.hra}"></th>
					<th th:text="${all.allowances}"></th>
					<th th:text="${all.deductions}"></th>
					<th th:text="${all.tax}"></th>
					<th th:text="${all.overtimeHours}"></th>
					<th th:text="${all.overtimeAmount}"></th>
					<th th:text="${all.bonusAmount}"></th>
					<th th:text="${all.grossPay}"></th>
					<th th:text="${all.netPay}"></th>
					<th th:text="${all.status}"></th>

				</tr>
				<tr>
					<th style="text-align: center;" colspan="15"
						th:text="${no_data_found}"></th>
				</tr>

			</tbody>

		</table>
	</div>

</body>
</html>